<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paramètres</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="parametre.css">
</head>
<body>
    <script src="parametre.js"></script>

    <div class="sidebar">
        <div class="menu">
            <a href="./create_menu.html"><i class="fas fa-home icon"></i>Menu</a>
            <a href="./produit.html"><i class="fas fa-box-open icon"></i>Produit</a>
            <a href="./user.html"><i class="fas fa-users icon"></i>Utilisateurs</a>
            <a href="./parametre.html"><i class="fas fa-cogs icon"></i>Paramètres</a>
            <a href="../caisse/caisse.html"><i class="fas fa-cash-register icon"></i>Caisse</a>
            <a href="../vue_cuisine/vue_cuisine.html"><i class="fas fa-utensils icon"></i>Vue Cuisine</a>
            <a href="./log.html"><i class="fas fa-file-alt icon"></i>Log</a>
        </div>
    </div>

    <div class="main-container">
        <div class="header">
            <h1>Paramètres</h1>
        </div>

        <div class="content">
            <div class="parametre-section">
                <img src="logo.png" alt="Logo actuel">
                <div class="parametre-details">
                    <h2>Logo</h2>
                    <p>Logo actuel de l'application.</p>
                </div>
                <button onclick="openModal('logo')">Changer de logo</button>
            </div>

            <div class="parametre-section">
                <div class="parametre-details">
                    <h2>Couleur principale</h2>
                    <p>Couleur actuelle : <span class="color-box">#EB1553</span></p>
                </div>
                <button onclick="openModal('main-color')">Changer de couleur</button>
            </div>

            <div class="parametre-section">
                <div class="parametre-details">
                    <h2>Couleur secondaire</h2>
                    <p>Couleur actuelle : <span class="color-box-secondary">#4060AD</span></p>
                </div>
                <button onclick="openModal('secondary-color')">Changer de couleur</button>
            </div>

            <div class="parametre-section">
                <img src="ticket.png" alt="Ticket de caisse actuel">
                <div class="parametre-details">
                    <h2>Ticket de caisse</h2>
                    <p>Ticket de caisse actuel imprimé.</p>
                </div>
                <button onclick="openModal('ticket')">Changer de ticket</button>
            </div>

            <div class="parametre-section">
                <div class="parametre-details">
                    <h2>Modifier le ticket de caisse</h2>
                    <p id="current-titre"><strong>Titre :</strong> <span>Titre de Ticket</span></p>
                    <p id="current-sous-titre"><strong>Sous-titre :</strong> <span>Sous-titre de Ticket</span></p>
                    <p id="current-pied-page"><strong>Pied de page :</strong> <span>Pied de Page de Ticket</span></p>
                </div>
                <button onclick="openModal()">Modifier le ticket</button>
            </div>
        </div>
    </div>

    <div id="ticketModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2>Modifier le ticket de caisse</h2>
            <label for="titre-ticket"><strong>Titre:</strong></label>
            <input type="text" id="titre-ticket" name="titre-ticket" placeholder="Titre du ticket">
            <br><br>
            <label for="sous-titre-ticket"><strong>Sous-titre:</strong></label>
            <input type="text" id="sous-titre-ticket" name="sous-titre-ticket" placeholder="Sous-titre du ticket">
            <br><br>
            <label for="pied-page-ticket"><strong>Pied de page:</strong></label>
            <input type="text" id="pied-page-ticket" name="pied-page-ticket" placeholder="Pied de page du ticket">
            <br><br>
            <button onclick="saveChanges()">Enregistrer les modifications</button>
        </div>
    </div>

    <!-- Modal -->
    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <div id="modal-body">
                <!-- Content will be injected here based on the button clicked -->
            </div>
        </div>
    </div>

    <script>
        function openModal(type) {
            var modal = document.getElementById("myModal");
            var modalBody = document.getElementById("modal-body");
            modal.style.display = "block";
            switch(type) {
                case 'logo':
                    modalBody.innerHTML = '<h2>Changer le logo</h2><p>Choisissez un nouveau logo pour l\'application.</p>';
                    break;
                case 'main-color':
                    modalBody.innerHTML = '<h2>Changer la couleur principale</h2><p>Choisissez une nouvelle couleur principale :</p><input type="text" id="mainColorInput" placeholder="#EB1553"><button onclick="changeColor(\'main-color\')">Appliquer</button>';
                    break;
                case 'secondary-color':
                    modalBody.innerHTML = '<h2>Changer la couleur secondaire</h2><p>Choisissez une nouvelle couleur secondaire :</p><input type="text" id="secondaryColorInput" placeholder="#4060AD"><button onclick="changeColor(\'secondary-color\')">Appliquer</button>';
                    break;
                case 'ticket':
                    modalBody.innerHTML = '<h2>Changer le ticket de caisse</h2><p>Choisissez un nouveau format pour le ticket de caisse.</p>';
                    break;
            }
        }

        function closeModal() {
            var modal = document.getElementById("myModal");
            modal.style.display = "none";
        }

        window.onclick = function(event) {
            var modal = document.getElementById("myModal");
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }

        function changeColor(type) {
            var color;
            if (type === 'main-color') {
                color = document.getElementById('mainColorInput').value;
                document.querySelector('.color-box').style.backgroundColor = color;
                document.querySelector('.color-box').textContent = color;
            } else if (type === 'secondary-color') {
                color = document.getElementById('secondaryColorInput').value;
                document.querySelector('.color-box-secondary').style.backgroundColor = color;
                document.querySelector('.color-box-secondary').textContent = color;
            }
            closeModal();
        }
    </script>
</body>
</html>